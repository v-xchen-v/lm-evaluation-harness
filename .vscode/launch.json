{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python: Current File",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "justMyCode": true
        },
        {
            "name": "Python: model parallel test File",
            "type": "python",
            "request": "launch",
            "program": "/test_multigpu_inference/lm-evaluation-harness/main.py",
            "args": [
                "--model=hf-causal-experimental",
                "--model_args=pretrained=gpt2-xl,use_accelerate=True",
                "--tasks=hellaswag",
                "--no_cache",
                "--limit=1000",
                "--batch_size=auto",
                "--device=auto",
            ],
            "console": "integratedTerminal",
            "justMyCode": true
        },
        {
            "name": "Python: no parallel test File",
            "type": "python",
            "request": "launch",
            "program": "/home/aiscuser/lm-evaluation-harness/main.py",
            "args": [
                "--model=hf-causal-experimental",
                "--model_args=pretrained=gpt2",
                "--tasks=hellaswag",
                "--no_cache",
                "--limit=1000",
                "--batch_size=auto",
                // "--device=auto",
            ],
            "console": "integratedTerminal",
            "justMyCode": true
        },
        {
            "name": "Python: data parallel test File",
            "type": "python",
            "request": "launch",
            // "program": "",
            "module": "accelerate.commands.launch",
            "args": [
                "/home/aiscuser/lm-evaluation-harness/main.py",
                "--model=hf-causal-experimental",
                // "--model_args=pretrained=meta-llama/Llama-2-7b-chat-hf",
                "--model_args=pretrained=gpt2",
                "--tasks=hellaswag",
                "--no_cache",
                "--limit=1000",
                "--batch_size=auto",
                "--use_data_parallel"
                // "--device=auto",
            ],
            "console": "integratedTerminal",
            "justMyCode": true
        },
        // {
        //     "name": "Python: data parallel and model parallel test File",
        //     "type": "python",
        //     "request": "launch",
        //     // "program": "",
        //     "module": "accelerate.commands.launch",
        //     "args": [
        //         "/test_multigpu_inference/lm-evaluation-harness/main.py",
        //         "--model=hf-causal-experimental",
        //         "--model_args=pretrained=gpt2-xl,use_accelerate=True",
        //         "--tasks=hellaswag",
        //         "--no_cache",
        //         "--limit=1000",
        //         "--batch_size=auto",
        //         "--device=auto",
        //     ],
        //     "console": "integratedTerminal",
        //     "justMyCode": true
        // }
    ]
}